import{a as E}from"./chunk-FSFNZZAU.js";import{B as T,C as B,E as N,F as c,H as _,I as k,K as A,M as j,P as D,S as G,T as q,U as L,V as P,W as R,X as V,Y as O,i as u,w as F,y as M}from"./chunk-TSRHPVKE.js";import{Aa as S,Mb as I,Q as m,R as p,Y as d,Ya as x,ca as f,da as g,fb as w,ha as e,ia as i,ja as s,pa as h,qb as y,v as b,va as a,za as C}from"./chunk-4YGZJTM3.js";function W(l,o){l&1&&(e(0,"small",19),a(1,"El email es requerido."),i())}function z(l,o){l&1&&(e(0,"small",19),a(1,"El password es requerido."),i())}var U=(()=>{let o=class o{constructor(r,n,t,v){this.fb=r,this.message=n,this.authService=t,this.router=v,this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required]],rememberme:[!1]}),this.loadingButton=!1}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.loadingButton=!0;let{email:r,password:n}=this.loginForm.value;this.authService.login(r,n).subscribe({next:()=>{this.router.navigateByUrl("main/home"),this.loadingButton=!1},error:t=>{console.log(t),this.loadingButton=!1,this.message.add({severity:"error",summary:"Credenciales no validas!",detail:"El email o password no son validos."})}})}isInvalid(r){return this.loginForm.controls[r].errors&&this.loginForm.controls[r].touched}};o.\u0275fac=function(n){return new(n||o)(p(G),p(u),p(I),p(y))},o.\u0275cmp=b({type:o,selectors:[["app-login"]],standalone:!0,features:[C([u]),S],decls:27,vars:7,consts:[["position","top-center"],[1,"grid","mt-7"],[1,"surface-card","p-4","shadow-2","border-round","w-full","lg:w-3","md:w-6","col-12","md:col-6","md:col-offset-3","lg:col-offset-4"],[1,"text-center","mb-5"],["src","assets/images/ceprore-logo2.png","alt","Image","height","50",1,"mb-3"],[1,"text-900","text-3xl","font-medium","mb-3"],["autocomplete","off",3,"formGroup","ngSubmit"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","type","text","placeholder","Email address","pInputText","","formControlName","email",1,"w-full","mb-1",3,"ngClass"],[1,"login-block-error"],["class","form-error"],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","type","password","placeholder","Password","pInputText","","formControlName","password",1,"w-full","mb-1",3,"ngClass"],[1,"flex","align-items-center","justify-content-between","mb-6","mt-4"],[1,"flex","align-items-center"],["styleClass","mr-2","aria-describedby","rememberme","inputId","rememberme","formControlName","rememberme",3,"binary"],["for","rememberme"],[1,"font-medium","no-underline","ml-2","text-blue-500","text-right","cursor-pointer"],["pButton","","pRipple","","label","Ingresar","icon","pi pi-user","type","submit",1,"w-full",3,"loading"],[1,"form-error"]],template:function(n,t){n&1&&(s(0,"p-toast",0),e(1,"div",1)(2,"div",2)(3,"div",3),s(4,"img",4),e(5,"div",5),a(6,"Welcome Back"),i()(),e(7,"div")(8,"form",6),h("ngSubmit",function(){return t.onSubmit()}),e(9,"label",7),a(10,"Email"),i(),s(11,"input",8),e(12,"div",9),f(13,W,2,0,"small",10),i(),e(14,"label",11),a(15,"Password"),i(),s(16,"input",12),e(17,"div",9),f(18,z,2,0,"small",10),i(),e(19,"div",13)(20,"div",14),s(21,"p-checkbox",15),e(22,"label",16),a(23,"Recordarme"),i()(),e(24,"a",17),a(25,"Olvidaste tu password?"),i()(),s(26,"button",18),i()()()()),n&2&&(m(8),d("formGroup",t.loginForm),m(3),d("ngClass",t.isInvalid("email")?"ng-invalid ng-dirty":""),m(2),g(13,t.isInvalid("email")?13:-1),m(3),d("ngClass",t.isInvalid("password")?"ng-invalid ng-dirty":""),m(2),g(18,t.isInvalid("password")?18:-1),m(3),d("binary",!0),m(5),d("loading",t.loadingButton))},dependencies:[O,V,R,P,M,F,q,A,N,_,k,L,j,D,w,x,B,T],styles:[".login-block-error[_ngcontent-%COMP%]{height:1.3rem}"]});let l=o;return l})();var ue=[{path:"",component:U,canActivate:[E]},{path:"**",redirectTo:""}];export{ue as routes};
